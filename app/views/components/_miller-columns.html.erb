<%
  id ||= "miller-columns-#{SecureRandom.hex(4)}"
  items ||= []
  searchable ||= false
%>

<div class="app-c-miller-columns" data-module="miller-columns" data-searchable="<%= searchable %>">
  <p id="navigation-instructions" class="govuk-body govuk-visually-hidden">
    Use the right arrow to explore sub-topics, use the up and down arrows to find other topics.
  </p>

  <miller-columns-selected id="selected-items" for="<%= id %>" class="miller-columns-selected"></miller-columns-selected>

  <% if searchable %>
    <div id="js-app-c-miller-columns__search" class="app-c-miller-columns__search app-js-only">
      <%= render "govuk_publishing_components/components/input", {
        label: {
          text: "Search for topic"
        },
        id: "js-app-c-miller-columns__search-input",
        name: "app-c-miller-columns__search-input"
      } %>
    </div>
  <% end %>

  <miller-columns class="miller-columns" for="<%= id %>-list" selected="selected-items" id="<%= id %>" aria-describedby="navigation-instructions">
    <%= render "components/miller-columns-list", {
      id: id,
      name: "#{id}[]",
      items: items
    } %>
  </miller-columns>
</div>
