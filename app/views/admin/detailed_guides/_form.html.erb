<div class="format-advice">
  <p class="govuk-body">Detailed guides tell users the steps they need to take to complete a specific task. They are usually aimed at specialist or professional audiences.</p>
  <p class="govuk-body">Read the <%= link_to "detailed guides guidance", "https://www.gov.uk/guidance/content-design/content-types#detailed-guide", class: "govuk-link", target: "_blank" %> in full.</p>
</div>


<%= standard_edition_form(edition, @information) do |form| %>
  <%= render "govuk_publishing_components/components/fieldset", {
    legend_text: "Associations",
    heading_level: 3,
    heading_size: "l"
  } do %>
    <%= render 'legacy_organisation_fields', form: form, edition: edition %>
    <%= render "legacy_topical_event_fields", form: form, edition: edition %>

    <% cache_if edition.related_detailed_guide_ids.empty?, taggable_detailed_guides_cache_digest do %>
      <%= render "components/autocomplete", {
        id: "edition_related_detailed_guide_ids",
        name: "edition[related_detailed_guide_ids][]",
        error_items: errors_for(edition.errors, :related_detailed_guide_ids),
        label: {
          text: "Related guides",
          bold: true,
        },
        select: {
          options: [""] + taggable_detailed_guides_container,
          multiple: true,
          selected: edition.related_detailed_guide_ids,
        },
      } %>
    <% end %>
  <% end %>

  <%= render "govuk_publishing_components/components/fieldset", {
    legend_text: "Related mainstream content",
    heading_level: 3,
    heading_size: "l"
  } do %>
    <%= render "govuk_publishing_components/components/input", {
      label: {
        text: "Related mainstream content url",
        bold: true,
      },
      hint: "Link to the top-level URL for mainstream content - not a specific chapter.",
      name: "edition[related_mainstream_content_url]",
      id: "edition_related_mainstream_content_url",
      error_items: errors_for(edition.errors, :related_mainstream_content_url),
    } %>

    <%= render "govuk_publishing_components/components/input", {
      label: {
        text: "Additional related mainstream content url",
        bold: true,
      },
      name: "edition[related_mainstream_content_url]",
      id: "additional_related_mainstream_content_url",
      error_items: errors_for(edition.errors, :related_mainstream_content_url),
    } %>
  <% end %>

  <%= render partial: 'legacy_nation_fields', locals: { form: form, edition: edition } %>
<% end %>
