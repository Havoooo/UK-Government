<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="3309.375px" preserveAspectRatio="none" style="width:8228px;height:3309px;background:#FFFFFF;" version="1.1" viewBox="0 0 8228 3309" width="8228.125px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="43.75" font-weight="bold" lengthAdjust="spacing" textLength="1343.75" x="3453.125" y="89.1724">The sequence of creating an image attachment in Whitehall</text><rect fill="#F2FEF8" height="3155.2246" style="stroke:#181818;stroke-width:1.5625;" width="5148.4375" x="65.625" y="135.9009"/><text fill="#000000" font-family="sans-serif" font-size="40.625" font-weight="bold" lengthAdjust="spacing" textLength="196.875" x="2541.4063" y="175.177">Whitehall</text><rect fill="#F2F8FE" height="3155.2246" style="stroke:#181818;stroke-width:1.5625;" width="2842.1875" x="5345.3125" y="135.9009"/><text fill="#000000" font-family="sans-serif" font-size="40.625" font-weight="bold" lengthAdjust="spacing" textLength="315.625" x="6608.5938" y="175.177">Asset Manager</text><rect fill="#FFFFFF" height="281.0364" style="stroke:#181818;stroke-width:3.125;" width="31.25" x="3992.1875" y="1290.8813"/><rect fill="#FFFFFF" height="189.4409" style="stroke:#181818;stroke-width:3.125;" width="31.25" x="6715.625" y="2127.7405"/><rect fill="#FFFFFF" height="189.4409" style="stroke:#181818;stroke-width:3.125;" width="31.25" x="6715.625" y="2500.3723"/><rect fill="none" height="552.6978" style="stroke:#000000;stroke-width:4.6875;" width="2962.5" x="1162.5" y="763.1836"/><rect fill="none" height="328.8818" style="stroke:#000000;stroke-width:4.6875;" width="2312.5" x="3517.1875" y="1451.2268"/><rect fill="none" height="328.8818" style="stroke:#000000;stroke-width:4.6875;" width="1565.625" x="5326.5625" y="1823.8586"/><rect fill="none" height="328.8818" style="stroke:#000000;stroke-width:4.6875;" width="1526.5625" x="5798.4375" y="2196.4905"/><rect fill="none" height="420.4773" style="stroke:#000000;stroke-width:4.6875;" width="2407.8125" x="5798.4375" y="2569.1223"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="150" x2="150" y1="435.2722" y2="3042.7246"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="846.875" x2="846.875" y1="435.2722" y2="3042.7246"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="1312.5" x2="1312.5" y1="435.2722" y2="3042.7246"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="1971.875" x2="1971.875" y1="435.2722" y2="3042.7246"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="2290.625" x2="2290.625" y1="435.2722" y2="3042.7246"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="3201.5625" x2="3201.5625" y1="435.2722" y2="3042.7246"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="3664.0625" x2="3664.0625" y1="435.2722" y2="3042.7246"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="4006.25" x2="4006.25" y1="435.2722" y2="3042.7246"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="4845.3125" x2="4845.3125" y1="435.2722" y2="3042.7246"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="5576.5625" x2="5576.5625" y1="435.2722" y2="3042.7246"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="5939.0625" x2="5939.0625" y1="435.2722" y2="3042.7246"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="6403.125" x2="6403.125" y1="435.2722" y2="3042.7246"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="6729.6875" x2="6729.6875" y1="435.2722" y2="3042.7246"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="7100" x2="7100" y1="435.2722" y2="3042.7246"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="7678.125" x2="7678.125" y1="435.2722" y2="3042.7246"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="8118.75" x2="8118.75" y1="435.2722" y2="3042.7246"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="128.125" x="78.125" y="426.0437">editor</text><ellipse cx="151.5625" cy="222.8088" fill="#E2E2F0" rx="25" ry="25" style="stroke:#181818;stroke-width:1.5625;"/><path d="M151.5625,247.8088 L151.5625,332.1838 M110.9375,272.8088 L192.1875,272.8088 M151.5625,332.1838 L110.9375,379.0588 M151.5625,332.1838 L192.1875,379.0588 " fill="none" style="stroke:#181818;stroke-width:1.5625;"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="128.125" x="78.125" y="3081.897">editor</text><ellipse cx="151.5625" cy="3117.688" fill="#E2E2F0" rx="25" ry="25" style="stroke:#181818;stroke-width:1.5625;"/><path d="M151.5625,3142.688 L151.5625,3227.063 M110.9375,3167.688 L192.1875,3167.688 M151.5625,3227.063 L110.9375,3273.938 M151.5625,3227.063 L192.1875,3273.938 " fill="none" style="stroke:#181818;stroke-width:1.5625;"/><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="565.625" x="565.625" y="336.8713"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="521.875" x="587.5" y="401.0437">EditionImagesController</text><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="565.625" x="565.625" y="3039.5996"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="521.875" x="587.5" y="3103.772">EditionImagesController</text><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="175" x="1225" y="336.8713"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="131.25" x="1246.875" y="401.0437">Image</text><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="175" x="1225" y="3039.5996"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="131.25" x="1246.875" y="3103.772">Image</text><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="125" x="1900" y="426.0437">mysql</text><path d="M1915.625,271.2463 C1915.625,239.9963 1971.875,239.9963 1971.875,239.9963 C1971.875,239.9963 2028.125,239.9963 2028.125,271.2463 L2028.125,352.4963 C2028.125,383.7463 1971.875,383.7463 1971.875,383.7463 C1971.875,383.7463 1915.625,383.7463 1915.625,352.4963 L1915.625,271.2463 " fill="#E2E2F0" style="stroke:#181818;stroke-width:4.6875;"/><path d="M1915.625,271.2463 C1915.625,302.4963 1971.875,302.4963 1971.875,302.4963 C1971.875,302.4963 2028.125,302.4963 2028.125,271.2463 " fill="none" style="stroke:#181818;stroke-width:4.6875;"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="125" x="1900" y="3081.897">mysql</text><path d="M1915.625,3122.3755 C1915.625,3091.1255 1971.875,3091.1255 1971.875,3091.1255 C1971.875,3091.1255 2028.125,3091.1255 2028.125,3122.3755 L2028.125,3203.6255 C2028.125,3234.8755 1971.875,3234.8755 1971.875,3234.8755 C1971.875,3234.8755 1915.625,3234.8755 1915.625,3203.6255 L1915.625,3122.3755 " fill="#E2E2F0" style="stroke:#181818;stroke-width:4.6875;"/><path d="M1915.625,3122.3755 C1915.625,3153.6255 1971.875,3153.6255 1971.875,3153.6255 C1971.875,3153.6255 2028.125,3153.6255 2028.125,3122.3755 " fill="none" style="stroke:#181818;stroke-width:4.6875;"/><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="371.875" x="2106.25" y="336.8713"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="328.125" x="2128.125" y="401.0437">ImageUploader</text><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="371.875" x="2106.25" y="3039.5996"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="328.125" x="2128.125" y="3103.772">ImageUploader</text><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="512.5" x="2945.3125" y="336.8713"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="468.75" x="2967.1875" y="401.0437">AssetManagerStorage</text><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="512.5" x="2945.3125" y="3039.5996"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="468.75" x="2967.1875" y="3103.772">AssetManagerStorage</text><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="212.5" x="3548.4375" y="426.0437">filesystem</text><path d="M3607.8125,271.2463 C3607.8125,239.9963 3664.0625,239.9963 3664.0625,239.9963 C3664.0625,239.9963 3720.3125,239.9963 3720.3125,271.2463 L3720.3125,352.4963 C3720.3125,383.7463 3664.0625,383.7463 3664.0625,383.7463 C3664.0625,383.7463 3607.8125,383.7463 3607.8125,352.4963 L3607.8125,271.2463 " fill="#E2E2F0" style="stroke:#181818;stroke-width:4.6875;"/><path d="M3607.8125,271.2463 C3607.8125,302.4963 3664.0625,302.4963 3664.0625,302.4963 C3664.0625,302.4963 3720.3125,302.4963 3720.3125,271.2463 " fill="none" style="stroke:#181818;stroke-width:4.6875;"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="212.5" x="3548.4375" y="3081.897">filesystem</text><path d="M3607.8125,3122.3755 C3607.8125,3091.1255 3664.0625,3091.1255 3664.0625,3091.1255 C3664.0625,3091.1255 3720.3125,3091.1255 3720.3125,3122.3755 L3720.3125,3203.6255 C3720.3125,3234.8755 3664.0625,3234.8755 3664.0625,3234.8755 C3664.0625,3234.8755 3607.8125,3234.8755 3607.8125,3203.6255 L3607.8125,3122.3755 " fill="#E2E2F0" style="stroke:#181818;stroke-width:4.6875;"/><path d="M3607.8125,3122.3755 C3607.8125,3153.6255 3664.0625,3153.6255 3664.0625,3153.6255 C3664.0625,3153.6255 3720.3125,3153.6255 3720.3125,3122.3755 " fill="none" style="stroke:#181818;stroke-width:4.6875;"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="153.125" x="3921.875" y="426.0437">sidekiq</text><path d="M3951.5625,271.2463 C3951.5625,239.9963 4007.8125,239.9963 4007.8125,239.9963 C4007.8125,239.9963 4064.0625,239.9963 4064.0625,271.2463 L4064.0625,352.4963 C4064.0625,383.7463 4007.8125,383.7463 4007.8125,383.7463 C4007.8125,383.7463 3951.5625,383.7463 3951.5625,352.4963 L3951.5625,271.2463 " fill="#E2E2F0" style="stroke:#181818;stroke-width:4.6875;"/><path d="M3951.5625,271.2463 C3951.5625,302.4963 4007.8125,302.4963 4007.8125,302.4963 C4007.8125,302.4963 4064.0625,302.4963 4064.0625,271.2463 " fill="none" style="stroke:#181818;stroke-width:4.6875;"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="153.125" x="3921.875" y="3081.897">sidekiq</text><path d="M3951.5625,3122.3755 C3951.5625,3091.1255 4007.8125,3091.1255 4007.8125,3091.1255 C4007.8125,3091.1255 4064.0625,3091.1255 4064.0625,3122.3755 L4064.0625,3203.6255 C4064.0625,3234.8755 4007.8125,3234.8755 4007.8125,3234.8755 C4007.8125,3234.8755 3951.5625,3234.8755 3951.5625,3203.6255 L3951.5625,3122.3755 " fill="#E2E2F0" style="stroke:#181818;stroke-width:4.6875;"/><path d="M3951.5625,3122.3755 C3951.5625,3153.6255 4007.8125,3153.6255 4007.8125,3153.6255 C4007.8125,3153.6255 4064.0625,3153.6255 4064.0625,3122.3755 " fill="none" style="stroke:#181818;stroke-width:4.6875;"/><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="650" x="4520.3125" y="336.8713"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="606.25" x="4542.1875" y="401.0437">CreateWhitehallAssetWorker</text><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="650" x="4520.3125" y="3039.5996"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="606.25" x="4542.1875" y="3103.772">CreateWhitehallAssetWorker</text><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="378.125" x="5389.0625" y="336.8713"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="334.375" x="5410.9375" y="401.0437">AssetController</text><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="378.125" x="5389.0625" y="3039.5996"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="334.375" x="5410.9375" y="3103.772">AssetController</text><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="159.375" x="5860.9375" y="336.8713"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="115.625" x="5882.8125" y="401.0437">Asset</text><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="159.375" x="5860.9375" y="3039.5996"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="115.625" x="5882.8125" y="3103.772">Asset</text><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="300" x="6243.75" y="426.0437">am_filesystem</text><path d="M6346.875,271.2463 C6346.875,239.9963 6403.125,239.9963 6403.125,239.9963 C6403.125,239.9963 6459.375,239.9963 6459.375,271.2463 L6459.375,352.4963 C6459.375,383.7463 6403.125,383.7463 6403.125,383.7463 C6403.125,383.7463 6346.875,383.7463 6346.875,352.4963 L6346.875,271.2463 " fill="#E2E2F0" style="stroke:#181818;stroke-width:4.6875;"/><path d="M6346.875,271.2463 C6346.875,302.4963 6403.125,302.4963 6403.125,302.4963 C6403.125,302.4963 6459.375,302.4963 6459.375,271.2463 " fill="none" style="stroke:#181818;stroke-width:4.6875;"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="300" x="6243.75" y="3081.897">am_filesystem</text><path d="M6346.875,3122.3755 C6346.875,3091.1255 6403.125,3091.1255 6403.125,3091.1255 C6403.125,3091.1255 6459.375,3091.1255 6459.375,3122.3755 L6459.375,3203.6255 C6459.375,3234.8755 6403.125,3234.8755 6403.125,3234.8755 C6403.125,3234.8755 6346.875,3234.8755 6346.875,3203.6255 L6346.875,3122.3755 " fill="#E2E2F0" style="stroke:#181818;stroke-width:4.6875;"/><path d="M6346.875,3122.3755 C6346.875,3153.6255 6403.125,3153.6255 6403.125,3153.6255 C6403.125,3153.6255 6459.375,3153.6255 6459.375,3122.3755 " fill="none" style="stroke:#181818;stroke-width:4.6875;"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="240.625" x="6601.5625" y="426.0437">am_sidekiq</text><path d="M6675,271.2463 C6675,239.9963 6731.25,239.9963 6731.25,239.9963 C6731.25,239.9963 6787.5,239.9963 6787.5,271.2463 L6787.5,352.4963 C6787.5,383.7463 6731.25,383.7463 6731.25,383.7463 C6731.25,383.7463 6675,383.7463 6675,352.4963 L6675,271.2463 " fill="#E2E2F0" style="stroke:#181818;stroke-width:4.6875;"/><path d="M6675,271.2463 C6675,302.4963 6731.25,302.4963 6731.25,302.4963 C6731.25,302.4963 6787.5,302.4963 6787.5,271.2463 " fill="none" style="stroke:#181818;stroke-width:4.6875;"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="240.625" x="6601.5625" y="3081.897">am_sidekiq</text><path d="M6675,3122.3755 C6675,3091.1255 6731.25,3091.1255 6731.25,3091.1255 C6731.25,3091.1255 6787.5,3091.1255 6787.5,3122.3755 L6787.5,3203.6255 C6787.5,3234.8755 6731.25,3234.8755 6731.25,3234.8755 C6731.25,3234.8755 6675,3234.8755 6675,3203.6255 L6675,3122.3755 " fill="#E2E2F0" style="stroke:#181818;stroke-width:4.6875;"/><path d="M6675,3122.3755 C6675,3153.6255 6731.25,3153.6255 6731.25,3153.6255 C6731.25,3153.6255 6787.5,3153.6255 6787.5,3122.3755 " fill="none" style="stroke:#181818;stroke-width:4.6875;"/><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="325" x="6937.5" y="336.8713"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="281.25" x="6959.375" y="401.0437">VirusScanner</text><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="325" x="6937.5" y="3039.5996"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="281.25" x="6959.375" y="3103.772">VirusScanner</text><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="643.75" x="7356.25" y="336.8713"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="600" x="7378.125" y="401.0437">SaveToCloudStorageWorker</text><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="643.75" x="7356.25" y="3039.5996"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="600" x="7378.125" y="3103.772">SaveToCloudStorageWorker</text><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="53.125" x="8082.8125" y="426.0437">S3</text><path d="M8062.5,271.2463 C8062.5,239.9963 8118.75,239.9963 8118.75,239.9963 C8118.75,239.9963 8175,239.9963 8175,271.2463 L8175,352.4963 C8175,383.7463 8118.75,383.7463 8118.75,383.7463 C8118.75,383.7463 8062.5,383.7463 8062.5,352.4963 L8062.5,271.2463 " fill="#E2E2F0" style="stroke:#181818;stroke-width:4.6875;"/><path d="M8062.5,271.2463 C8062.5,302.4963 8118.75,302.4963 8118.75,302.4963 C8118.75,302.4963 8175,302.4963 8175,271.2463 " fill="none" style="stroke:#181818;stroke-width:4.6875;"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="53.125" x="8082.8125" y="3081.897">S3</text><path d="M8062.5,3122.3755 C8062.5,3091.1255 8118.75,3091.1255 8118.75,3091.1255 C8118.75,3091.1255 8175,3091.1255 8175,3122.3755 L8175,3203.6255 C8175,3234.8755 8118.75,3234.8755 8118.75,3234.8755 C8118.75,3234.8755 8062.5,3234.8755 8062.5,3203.6255 L8062.5,3122.3755 " fill="#E2E2F0" style="stroke:#181818;stroke-width:4.6875;"/><path d="M8062.5,3122.3755 C8062.5,3153.6255 8118.75,3153.6255 8118.75,3153.6255 C8118.75,3153.6255 8175,3153.6255 8175,3122.3755 " fill="none" style="stroke:#181818;stroke-width:4.6875;"/><rect fill="#FFFFFF" height="281.0364" style="stroke:#181818;stroke-width:3.125;" width="31.25" x="3992.1875" y="1290.8813"/><rect fill="#FFFFFF" height="189.4409" style="stroke:#181818;stroke-width:3.125;" width="31.25" x="6715.625" y="2127.7405"/><rect fill="#FFFFFF" height="189.4409" style="stroke:#181818;stroke-width:3.125;" width="31.25" x="6715.625" y="2500.3723"/><polygon fill="#181818" points="810.9375,520.6177,842.1875,533.1177,810.9375,545.6177,823.4375,533.1177" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="151.5625" x2="829.6875" y1="533.1177" y2="533.1177"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="325" x="173.4375" y="518.2983">upload an image</text><polygon fill="#181818" points="1275,612.2131,1306.25,624.7131,1275,637.2131,1287.5,624.7131" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="848.4375" x2="1293.75" y1="624.7131" y2="624.7131"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="87.5" x="870.3125" y="609.8938">save</text><polygon fill="#181818" points="1934.375,703.8086,1965.625,716.3086,1934.375,728.8086,1946.875,716.3086" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="1312.5" x2="1953.125" y1="716.3086" y2="716.3086"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="584.375" x="1334.375" y="701.4893">Store Image meta information</text><path d="M1162.5,763.1836 L1553.125,763.1836 L1553.125,786.0291 L1521.875,817.2791 L1162.5,817.2791 L1162.5,763.1836 " fill="#EEEEEE" style="stroke:#000000;stroke-width:4.6875;"/><rect fill="none" height="552.6978" style="stroke:#000000;stroke-width:4.6875;" width="2962.5" x="1162.5" y="763.1836"/><text fill="#000000" font-family="sans-serif" font-size="40.625" font-weight="bold" lengthAdjust="spacing" textLength="250" x="1209.375" y="805.5847">carrierwave</text><polygon fill="#181818" points="2254.6875,871.3745,2285.9375,883.8745,2254.6875,896.3745,2267.1875,883.8745" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="1312.5" x2="2273.4375" y1="883.8745" y2="883.8745"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="506.25" x="1334.375" y="869.0552">Trigger carrierwave magic</text><line style="stroke:#181818;stroke-width:3.125;" x1="2292.1875" x2="2423.4375" y1="975.47" y2="975.47"/><line style="stroke:#181818;stroke-width:3.125;" x1="2423.4375" x2="2423.4375" y1="975.47" y2="1016.095"/><line style="stroke:#181818;stroke-width:3.125;" x1="2295.3125" x2="2423.4375" y1="1016.095" y2="1016.095"/><polygon fill="#181818" points="2326.5625,1003.595,2295.3125,1016.095,2326.5625,1028.595,2314.0625,1016.095" style="stroke:#181818;stroke-width:3.125;"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="481.25" x="2314.0625" y="960.6506">Generate image versions</text><polygon fill="#181818" points="3164.0625,1095.1904,3195.3125,1107.6904,3164.0625,1120.1904,3176.5625,1107.6904" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="2292.1875" x2="3182.8125" y1="1107.6904" y2="1107.6904"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="834.375" x="2314.0625" y="1092.8711">Trigger carrierwave magic for each version</text><polygon fill="#181818" points="3626.5625,1186.7859,3657.8125,1199.2859,3626.5625,1211.7859,3639.0625,1199.2859" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="3201.5625" x2="3645.3125" y1="1199.2859" y2="1199.2859"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="387.5" x="3223.4375" y="1184.4666">Store temporary file</text><polygon fill="#181818" points="3954.6875,1278.3813,3985.9375,1290.8813,3954.6875,1303.3813,3967.1875,1290.8813" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="3201.5625" x2="3973.4375" y1="1290.8813" y2="1290.8813"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="731.25" x="3223.4375" y="1276.062">Enqueue CreateWhitehallAssetWorker</text><polygon fill="#181818" points="185.9375,1391.8518,154.6875,1404.3518,185.9375,1416.8518,173.4375,1404.3518" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="167.1875" x2="845.3125" y1="1404.3518" y2="1404.3518"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="621.875" x="204.6875" y="1389.5325">Redirect to edition/images/edit</text><path d="M3517.1875,1451.2268 L3810.9375,1451.2268 L3810.9375,1474.0723 L3779.6875,1505.3223 L3517.1875,1505.3223 L3517.1875,1451.2268 " fill="#EEEEEE" style="stroke:#000000;stroke-width:4.6875;"/><rect fill="none" height="328.8818" style="stroke:#000000;stroke-width:4.6875;" width="2312.5" x="3517.1875" y="1451.2268"/><text fill="#000000" font-family="sans-serif" font-size="40.625" font-weight="bold" lengthAdjust="spacing" textLength="153.125" x="3564.0625" y="1493.6279">sidekiq</text><polygon fill="#181818" points="4807.8125,1559.4177,4839.0625,1571.9177,4807.8125,1584.4177,4820.3125,1571.9177" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="4007.8125" x2="4826.5625" y1="1571.9177" y2="1571.9177"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="746.875" x="4029.6875" y="1557.0984">Trigger worker for each image version</text><polygon fill="#181818" points="5540.625,1651.0132,5571.875,1663.5132,5540.625,1676.0132,5553.125,1663.5132" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="4845.3125" x2="5559.375" y1="1663.5132" y2="1663.5132"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="640.625" x="4867.1875" y="1648.6938">Upload the file to Asset Manager</text><polygon fill="#181818" points="3698.4375,1742.6086,3667.1875,1755.1086,3698.4375,1767.6086,3685.9375,1755.1086" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="3679.6875" x2="4842.1875" y1="1755.1086" y2="1755.1086"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="228.125" x="3717.1875" y="1740.2893">Remove file</text><path d="M5326.5625,1823.8586 L5717.1875,1823.8586 L5717.1875,1846.7041 L5685.9375,1877.9541 L5326.5625,1877.9541 L5326.5625,1823.8586 " fill="#EEEEEE" style="stroke:#000000;stroke-width:4.6875;"/><rect fill="none" height="328.8818" style="stroke:#000000;stroke-width:4.6875;" width="1565.625" x="5326.5625" y="1823.8586"/><text fill="#000000" font-family="sans-serif" font-size="40.625" font-weight="bold" lengthAdjust="spacing" textLength="250" x="5373.4375" y="1866.2598">carrierwave</text><polygon fill="#181818" points="5903.125,1932.0496,5934.375,1944.5496,5903.125,1957.0496,5915.625,1944.5496" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="5578.125" x2="5921.875" y1="1944.5496" y2="1944.5496"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="87.5" x="5600" y="1929.7302">Save</text><polygon fill="#181818" points="6365.625,2023.645,6396.875,2036.145,6365.625,2048.645,6378.125,2036.145" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="5940.625" x2="6384.375" y1="2036.145" y2="2036.145"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="387.5" x="5962.5" y="2021.3257">Store temporary file</text><polygon fill="#181818" points="6678.125,2115.2405,6709.375,2127.7405,6678.125,2140.2405,6690.625,2127.7405" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="5940.625" x2="6696.875" y1="2127.7405" y2="2127.7405"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="431.25" x="5962.5" y="2112.9211">Enqueue VirusScanner</text><path d="M5798.4375,2196.4905 L6092.1875,2196.4905 L6092.1875,2219.3359 L6060.9375,2250.5859 L5798.4375,2250.5859 L5798.4375,2196.4905 " fill="#EEEEEE" style="stroke:#000000;stroke-width:4.6875;"/><rect fill="none" height="328.8818" style="stroke:#000000;stroke-width:4.6875;" width="1526.5625" x="5798.4375" y="2196.4905"/><text fill="#000000" font-family="sans-serif" font-size="40.625" font-weight="bold" lengthAdjust="spacing" textLength="153.125" x="5845.3125" y="2238.8916">sidekiq</text><polygon fill="#181818" points="7062.5,2304.6814,7093.75,2317.1814,7062.5,2329.6814,7075,2317.1814" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="6731.25" x2="7081.25" y1="2317.1814" y2="2317.1814"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="278.125" x="6753.125" y="2302.3621">trigger worker</text><polygon fill="#181818" points="5975,2396.2769,5943.75,2408.7769,5975,2421.2769,5962.5,2408.7769" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="5956.25" x2="7096.875" y1="2408.7769" y2="2408.7769"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="506.25" x="5993.75" y="2393.9575">Update state to be "clean"</text><polygon fill="#181818" points="6678.125,2487.8723,6709.375,2500.3723,6678.125,2512.8723,6690.625,2500.3723" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="5940.625" x2="6696.875" y1="2500.3723" y2="2500.3723"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="715.625" x="5962.5" y="2485.553">Enqueue SaveToCloudStorageWorker</text><path d="M5798.4375,2569.1223 L6092.1875,2569.1223 L6092.1875,2591.9678 L6060.9375,2623.2178 L5798.4375,2623.2178 L5798.4375,2569.1223 " fill="#EEEEEE" style="stroke:#000000;stroke-width:4.6875;"/><rect fill="none" height="420.4773" style="stroke:#000000;stroke-width:4.6875;" width="2407.8125" x="5798.4375" y="2569.1223"/><text fill="#000000" font-family="sans-serif" font-size="40.625" font-weight="bold" lengthAdjust="spacing" textLength="153.125" x="5845.3125" y="2611.5234">sidekiq</text><polygon fill="#181818" points="7640.625,2677.3132,7671.875,2689.8132,7640.625,2702.3132,7653.125,2689.8132" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="6731.25" x2="7659.375" y1="2689.8132" y2="2689.8132"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="278.125" x="6753.125" y="2674.9939">trigger worker</text><polygon fill="#181818" points="8081.25,2768.9087,8112.5,2781.4087,8081.25,2793.9087,8093.75,2781.4087" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="7678.125" x2="8100" y1="2781.4087" y2="2781.4087"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="250" x="7700" y="2766.5894">Upload to S3</text><polygon fill="#181818" points="5975,2860.5042,5943.75,2873.0042,5975,2885.5042,5962.5,2873.0042" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="5956.25" x2="7675" y1="2873.0042" y2="2873.0042"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="584.375" x="5993.75" y="2858.1848">Update state to be "uploaded"</text><polygon fill="#181818" points="6365.625,2952.0996,6396.875,2964.5996,6365.625,2977.0996,6378.125,2964.5996" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="5940.625" x2="6384.375" y1="2964.5996" y2="2964.5996"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="340.625" x="5962.5" y="2949.7803">Remove temp file</text><!--SRC=[bLJ1Rjim3BthAuZiM0JDcalHmu0jA8OT1XHDkXu7rgOJ8RRaI7BQ_FqesR6jn4ww71A7v7j-vADajrALQB20j9Gmdys4aoudM6q8BEqgKWc1pY0nX4wgDQ02MU2Q09t3P5EGSY0Ll6waemtckR0jum_zyOHfwb5tirxy2OsJYInHkMF-wqo8D_q1avPd0b-okuooUu69qmOebVmZoWuBZnoIMltoSkn2AsTqdbDS4v8YHOTlQ0cAWztbvmKlPQunFO5-jvRSRrISDqj-TqIKoPpimJegkfYLAMtbBY9P-BbHsrNWVDLco-yYbGBtt3GUCj2yhcx-FgDpGIDzXbmd1Ok_GmevF2JoZpILNIQer0dh4lUqqejSLsapWKPxoxYSTts8sYEOVXkp1XwW2gDkrqYCLJ99Y374iWfH_-5ei92ZNX0rDGKvv2tCj2dGimcnDheg8K5Z99btJm3yQKaYrvbiPUIQvzu709V8f8ErrGFmdyIJOv-Rex4dOrc57GOFxDKb1P3vxUUZTgGDh4CapDsPtaw8dqlEcqD8NW8tgt5pmzX7nMU_eclx6yOiBfdOxCG3FFEJeSI1qo78zRTXNFRM_prQTjnFhxDvzZJZEgRJRdZl8T9DBB8ZK8xpjDP4wreR1svJ7talFZgfdo2DF7ccGkzhhlu0XzVrLCvHeVSsgl6PwCXVTRz135aUtGPd6ll-T0IUhe_pfhZ8b03eb_IxUIbJVtgiyzyyuZU2IP8Jgicd58zUK_-XVenZf9Enya0rxosEzbVaDSIbETGN9gMJotOtY-NzFjskVm00]--></g></svg>