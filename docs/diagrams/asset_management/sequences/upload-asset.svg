<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="4159.375px" preserveAspectRatio="none" style="width:8931px;height:4159px;background:#FFFFFF;" version="1.1" viewBox="0 0 8931 4159" width="8931.25px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="43.75" font-weight="bold" lengthAdjust="spacing" textLength="1253.125" x="3850.7813" y="89.1724">The sequence of creating a file attachment in Whitehall</text><rect fill="#F2FEF8" height="4007.4951" style="stroke:#181818;stroke-width:1.5625;" width="5832.8125" x="65.625" y="135.9009"/><text fill="#000000" font-family="sans-serif" font-size="40.625" font-weight="bold" lengthAdjust="spacing" textLength="196.875" x="2883.5938" y="175.177">Whitehall</text><rect fill="#F2F8FE" height="4007.4951" style="stroke:#181818;stroke-width:1.5625;" width="2842.1875" x="6050" y="135.9009"/><text fill="#000000" font-family="sans-serif" font-size="40.625" font-weight="bold" lengthAdjust="spacing" textLength="315.625" x="7313.2813" y="175.177">Asset Manager</text><rect fill="#FFFFFF" height="281.0364" style="stroke:#181818;stroke-width:3.125;" width="31.25" x="3179.6875" y="1067.0654"/><rect fill="#FFFFFF" height="281.0364" style="stroke:#181818;stroke-width:3.125;" width="31.25" x="3179.6875" y="1531.2927"/><rect fill="#FFFFFF" height="1398.9319" style="stroke:#181818;stroke-width:3.125;" width="31.25" x="3179.6875" y="1995.52"/><rect fill="#FFFFFF" height="189.4409" style="stroke:#181818;stroke-width:3.125;" width="31.25" x="7420.3125" y="2368.1519"/><rect fill="#FFFFFF" height="189.4409" style="stroke:#181818;stroke-width:3.125;" width="31.25" x="7420.3125" y="2740.7837"/><rect fill="none" height="328.8818" style="stroke:#000000;stroke-width:4.6875;" width="2171.875" x="1140.625" y="763.1836"/><rect fill="none" height="420.4773" style="stroke:#000000;stroke-width:4.6875;" width="3829.6875" x="2704.6875" y="1227.4109"/><rect fill="none" height="328.8818" style="stroke:#000000;stroke-width:4.6875;" width="4220.3125" x="1140.625" y="1691.6382"/><rect fill="none" height="328.8818" style="stroke:#000000;stroke-width:4.6875;" width="1565.625" x="6031.25" y="2064.27"/><rect fill="none" height="328.8818" style="stroke:#000000;stroke-width:4.6875;" width="1526.5625" x="6503.125" y="2436.9019"/><rect fill="none" height="420.4773" style="stroke:#000000;stroke-width:4.6875;" width="2407.8125" x="6503.125" y="2809.5337"/><rect fill="none" height="568.1091" style="stroke:#000000;stroke-width:4.6875;" width="3709.375" x="3078.125" y="3273.761"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="150" x2="150" y1="435.2722" y2="3894.9951"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="853.125" x2="853.125" y1="435.2722" y2="3894.9951"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="1346.875" x2="1346.875" y1="435.2722" y2="3894.9951"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="1998.4375" x2="1998.4375" y1="435.2722" y2="3894.9951"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="2389.0625" x2="2389.0625" y1="435.2722" y2="3894.9951"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="2851.5625" x2="2851.5625" y1="435.2722" y2="3894.9951"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="3193.75" x2="3193.75" y1="435.2722" y2="3894.9951"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="4107.8125" x2="4107.8125" y1="435.2722" y2="3894.9951"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="4910.9375" x2="4910.9375" y1="435.2722" y2="3894.9951"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="5623.4375" x2="5623.4375" y1="435.2722" y2="3894.9951"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="6281.25" x2="6281.25" y1="435.2722" y2="3894.9951"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="6643.75" x2="6643.75" y1="435.2722" y2="3894.9951"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="7107.8125" x2="7107.8125" y1="435.2722" y2="3894.9951"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="7434.375" x2="7434.375" y1="435.2722" y2="3894.9951"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="7804.6875" x2="7804.6875" y1="435.2722" y2="3894.9951"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="8382.8125" x2="8382.8125" y1="435.2722" y2="3894.9951"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:5.0,5.0;" x1="8823.4375" x2="8823.4375" y1="435.2722" y2="3894.9951"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="128.125" x="78.125" y="426.0437">editor</text><ellipse cx="151.5625" cy="222.8088" fill="#E2E2F0" rx="25" ry="25" style="stroke:#181818;stroke-width:1.5625;"/><path d="M151.5625,247.8088 L151.5625,332.1838 M110.9375,272.8088 L192.1875,272.8088 M151.5625,332.1838 L110.9375,379.0588 M151.5625,332.1838 L192.1875,379.0588 " fill="none" style="stroke:#181818;stroke-width:1.5625;"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="128.125" x="78.125" y="3934.1675">editor</text><ellipse cx="151.5625" cy="3969.9585" fill="#E2E2F0" rx="25" ry="25" style="stroke:#181818;stroke-width:1.5625;"/><path d="M151.5625,3994.9585 L151.5625,4079.3335 M110.9375,4019.9585 L192.1875,4019.9585 M151.5625,4079.3335 L110.9375,4126.2085 M151.5625,4079.3335 L192.1875,4126.2085 " fill="none" style="stroke:#181818;stroke-width:1.5625;"/><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="509.375" x="600" y="336.8713"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="465.625" x="621.875" y="401.0437">AttachmentController</text><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="509.375" x="600" y="3891.8701"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="465.625" x="621.875" y="3956.0425">AttachmentController</text><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="290.625" x="1203.125" y="336.8713"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="246.875" x="1225" y="401.0437">Attachment</text><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="290.625" x="1203.125" y="3891.8701"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="246.875" x="1225" y="3956.0425">Attachment</text><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="125" x="1926.5625" y="426.0437">mysql</text><path d="M1942.1875,271.2463 C1942.1875,239.9963 1998.4375,239.9963 1998.4375,239.9963 C1998.4375,239.9963 2054.6875,239.9963 2054.6875,271.2463 L2054.6875,352.4963 C2054.6875,383.7463 1998.4375,383.7463 1998.4375,383.7463 C1998.4375,383.7463 1942.1875,383.7463 1942.1875,352.4963 L1942.1875,271.2463 " fill="#E2E2F0" style="stroke:#181818;stroke-width:4.6875;"/><path d="M1942.1875,271.2463 C1942.1875,302.4963 1998.4375,302.4963 1998.4375,302.4963 C1998.4375,302.4963 2054.6875,302.4963 2054.6875,271.2463 " fill="none" style="stroke:#181818;stroke-width:4.6875;"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="125" x="1926.5625" y="3934.1675">mysql</text><path d="M1942.1875,3974.646 C1942.1875,3943.396 1998.4375,3943.396 1998.4375,3943.396 C1998.4375,3943.396 2054.6875,3943.396 2054.6875,3974.646 L2054.6875,4055.896 C2054.6875,4087.146 1998.4375,4087.146 1998.4375,4087.146 C1998.4375,4087.146 1942.1875,4087.146 1942.1875,4055.896 L1942.1875,3974.646 " fill="#E2E2F0" style="stroke:#181818;stroke-width:4.6875;"/><path d="M1942.1875,3974.646 C1942.1875,4005.896 1998.4375,4005.896 1998.4375,4005.896 C1998.4375,4005.896 2054.6875,4005.896 2054.6875,3974.646 " fill="none" style="stroke:#181818;stroke-width:4.6875;"/><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="512.5" x="2132.8125" y="336.8713"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="468.75" x="2154.6875" y="401.0437">AssetManagerStorage</text><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="512.5" x="2132.8125" y="3891.8701"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="468.75" x="2154.6875" y="3956.0425">AssetManagerStorage</text><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="212.5" x="2735.9375" y="426.0437">filesystem</text><path d="M2795.3125,271.2463 C2795.3125,239.9963 2851.5625,239.9963 2851.5625,239.9963 C2851.5625,239.9963 2907.8125,239.9963 2907.8125,271.2463 L2907.8125,352.4963 C2907.8125,383.7463 2851.5625,383.7463 2851.5625,383.7463 C2851.5625,383.7463 2795.3125,383.7463 2795.3125,352.4963 L2795.3125,271.2463 " fill="#E2E2F0" style="stroke:#181818;stroke-width:4.6875;"/><path d="M2795.3125,271.2463 C2795.3125,302.4963 2851.5625,302.4963 2851.5625,302.4963 C2851.5625,302.4963 2907.8125,302.4963 2907.8125,271.2463 " fill="none" style="stroke:#181818;stroke-width:4.6875;"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="212.5" x="2735.9375" y="3934.1675">filesystem</text><path d="M2795.3125,3974.646 C2795.3125,3943.396 2851.5625,3943.396 2851.5625,3943.396 C2851.5625,3943.396 2907.8125,3943.396 2907.8125,3974.646 L2907.8125,4055.896 C2907.8125,4087.146 2851.5625,4087.146 2851.5625,4087.146 C2851.5625,4087.146 2795.3125,4087.146 2795.3125,4055.896 L2795.3125,3974.646 " fill="#E2E2F0" style="stroke:#181818;stroke-width:4.6875;"/><path d="M2795.3125,3974.646 C2795.3125,4005.896 2851.5625,4005.896 2851.5625,4005.896 C2851.5625,4005.896 2907.8125,4005.896 2907.8125,3974.646 " fill="none" style="stroke:#181818;stroke-width:4.6875;"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="153.125" x="3109.375" y="426.0437">sidekiq</text><path d="M3139.0625,271.2463 C3139.0625,239.9963 3195.3125,239.9963 3195.3125,239.9963 C3195.3125,239.9963 3251.5625,239.9963 3251.5625,271.2463 L3251.5625,352.4963 C3251.5625,383.7463 3195.3125,383.7463 3195.3125,383.7463 C3195.3125,383.7463 3139.0625,383.7463 3139.0625,352.4963 L3139.0625,271.2463 " fill="#E2E2F0" style="stroke:#181818;stroke-width:4.6875;"/><path d="M3139.0625,271.2463 C3139.0625,302.4963 3195.3125,302.4963 3195.3125,302.4963 C3195.3125,302.4963 3251.5625,302.4963 3251.5625,271.2463 " fill="none" style="stroke:#181818;stroke-width:4.6875;"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="153.125" x="3109.375" y="3934.1675">sidekiq</text><path d="M3139.0625,3974.646 C3139.0625,3943.396 3195.3125,3943.396 3195.3125,3943.396 C3195.3125,3943.396 3251.5625,3943.396 3251.5625,3974.646 L3251.5625,4055.896 C3251.5625,4087.146 3195.3125,4087.146 3195.3125,4087.146 C3195.3125,4087.146 3139.0625,4087.146 3139.0625,4055.896 L3139.0625,3974.646 " fill="#E2E2F0" style="stroke:#181818;stroke-width:4.6875;"/><path d="M3139.0625,3974.646 C3139.0625,4005.896 3195.3125,4005.896 3195.3125,4005.896 C3195.3125,4005.896 3251.5625,4005.896 3251.5625,3974.646 " fill="none" style="stroke:#181818;stroke-width:4.6875;"/><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="650" x="3782.8125" y="336.8713"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="606.25" x="3804.6875" y="401.0437">CreateWhitehallAssetWorker</text><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="650" x="3782.8125" y="3891.8701"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="606.25" x="3804.6875" y="3956.0425">CreateWhitehallAssetWorker</text><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="771.875" x="4526.5625" y="336.8713"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="728.125" x="4548.4375" y="401.0437">AttachmentSetUploadedToWorker</text><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="771.875" x="4526.5625" y="3891.8701"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="728.125" x="4548.4375" y="3956.0425">AttachmentSetUploadedToWorker</text><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="462.5" x="5392.1875" y="336.8713"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="418.75" x="5414.0625" y="401.0437">AttachmentUpdater</text><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="462.5" x="5392.1875" y="3891.8701"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="418.75" x="5414.0625" y="3956.0425">AttachmentUpdater</text><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="378.125" x="6093.75" y="336.8713"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="334.375" x="6115.625" y="401.0437">AssetController</text><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="378.125" x="6093.75" y="3891.8701"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="334.375" x="6115.625" y="3956.0425">AssetController</text><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="159.375" x="6565.625" y="336.8713"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="115.625" x="6587.5" y="401.0437">Asset</text><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="159.375" x="6565.625" y="3891.8701"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="115.625" x="6587.5" y="3956.0425">Asset</text><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="300" x="6948.4375" y="426.0437">am_filesystem</text><path d="M7051.5625,271.2463 C7051.5625,239.9963 7107.8125,239.9963 7107.8125,239.9963 C7107.8125,239.9963 7164.0625,239.9963 7164.0625,271.2463 L7164.0625,352.4963 C7164.0625,383.7463 7107.8125,383.7463 7107.8125,383.7463 C7107.8125,383.7463 7051.5625,383.7463 7051.5625,352.4963 L7051.5625,271.2463 " fill="#E2E2F0" style="stroke:#181818;stroke-width:4.6875;"/><path d="M7051.5625,271.2463 C7051.5625,302.4963 7107.8125,302.4963 7107.8125,302.4963 C7107.8125,302.4963 7164.0625,302.4963 7164.0625,271.2463 " fill="none" style="stroke:#181818;stroke-width:4.6875;"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="300" x="6948.4375" y="3934.1675">am_filesystem</text><path d="M7051.5625,3974.646 C7051.5625,3943.396 7107.8125,3943.396 7107.8125,3943.396 C7107.8125,3943.396 7164.0625,3943.396 7164.0625,3974.646 L7164.0625,4055.896 C7164.0625,4087.146 7107.8125,4087.146 7107.8125,4087.146 C7107.8125,4087.146 7051.5625,4087.146 7051.5625,4055.896 L7051.5625,3974.646 " fill="#E2E2F0" style="stroke:#181818;stroke-width:4.6875;"/><path d="M7051.5625,3974.646 C7051.5625,4005.896 7107.8125,4005.896 7107.8125,4005.896 C7107.8125,4005.896 7164.0625,4005.896 7164.0625,3974.646 " fill="none" style="stroke:#181818;stroke-width:4.6875;"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="240.625" x="7306.25" y="426.0437">am_sidekiq</text><path d="M7379.6875,271.2463 C7379.6875,239.9963 7435.9375,239.9963 7435.9375,239.9963 C7435.9375,239.9963 7492.1875,239.9963 7492.1875,271.2463 L7492.1875,352.4963 C7492.1875,383.7463 7435.9375,383.7463 7435.9375,383.7463 C7435.9375,383.7463 7379.6875,383.7463 7379.6875,352.4963 L7379.6875,271.2463 " fill="#E2E2F0" style="stroke:#181818;stroke-width:4.6875;"/><path d="M7379.6875,271.2463 C7379.6875,302.4963 7435.9375,302.4963 7435.9375,302.4963 C7435.9375,302.4963 7492.1875,302.4963 7492.1875,271.2463 " fill="none" style="stroke:#181818;stroke-width:4.6875;"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="240.625" x="7306.25" y="3934.1675">am_sidekiq</text><path d="M7379.6875,3974.646 C7379.6875,3943.396 7435.9375,3943.396 7435.9375,3943.396 C7435.9375,3943.396 7492.1875,3943.396 7492.1875,3974.646 L7492.1875,4055.896 C7492.1875,4087.146 7435.9375,4087.146 7435.9375,4087.146 C7435.9375,4087.146 7379.6875,4087.146 7379.6875,4055.896 L7379.6875,3974.646 " fill="#E2E2F0" style="stroke:#181818;stroke-width:4.6875;"/><path d="M7379.6875,3974.646 C7379.6875,4005.896 7435.9375,4005.896 7435.9375,4005.896 C7435.9375,4005.896 7492.1875,4005.896 7492.1875,3974.646 " fill="none" style="stroke:#181818;stroke-width:4.6875;"/><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="325" x="7642.1875" y="336.8713"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="281.25" x="7664.0625" y="401.0437">VirusScanner</text><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="325" x="7642.1875" y="3891.8701"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="281.25" x="7664.0625" y="3956.0425">VirusScanner</text><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="643.75" x="8060.9375" y="336.8713"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="600" x="8082.8125" y="401.0437">SaveToCloudStorageWorker</text><rect fill="#E2E2F0" height="95.2759" rx="7.8125" ry="7.8125" style="stroke:#181818;stroke-width:1.5625;" width="643.75" x="8060.9375" y="3891.8701"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="600" x="8082.8125" y="3956.0425">SaveToCloudStorageWorker</text><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="53.125" x="8787.5" y="426.0437">S3</text><path d="M8767.1875,271.2463 C8767.1875,239.9963 8823.4375,239.9963 8823.4375,239.9963 C8823.4375,239.9963 8879.6875,239.9963 8879.6875,271.2463 L8879.6875,352.4963 C8879.6875,383.7463 8823.4375,383.7463 8823.4375,383.7463 C8823.4375,383.7463 8767.1875,383.7463 8767.1875,352.4963 L8767.1875,271.2463 " fill="#E2E2F0" style="stroke:#181818;stroke-width:4.6875;"/><path d="M8767.1875,271.2463 C8767.1875,302.4963 8823.4375,302.4963 8823.4375,302.4963 C8823.4375,302.4963 8879.6875,302.4963 8879.6875,271.2463 " fill="none" style="stroke:#181818;stroke-width:4.6875;"/><text fill="#000000" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="53.125" x="8787.5" y="3934.1675">S3</text><path d="M8767.1875,3974.646 C8767.1875,3943.396 8823.4375,3943.396 8823.4375,3943.396 C8823.4375,3943.396 8879.6875,3943.396 8879.6875,3974.646 L8879.6875,4055.896 C8879.6875,4087.146 8823.4375,4087.146 8823.4375,4087.146 C8823.4375,4087.146 8767.1875,4087.146 8767.1875,4055.896 L8767.1875,3974.646 " fill="#E2E2F0" style="stroke:#181818;stroke-width:4.6875;"/><path d="M8767.1875,3974.646 C8767.1875,4005.896 8823.4375,4005.896 8823.4375,4005.896 C8823.4375,4005.896 8879.6875,4005.896 8879.6875,3974.646 " fill="none" style="stroke:#181818;stroke-width:4.6875;"/><rect fill="#FFFFFF" height="281.0364" style="stroke:#181818;stroke-width:3.125;" width="31.25" x="3179.6875" y="1067.0654"/><rect fill="#FFFFFF" height="281.0364" style="stroke:#181818;stroke-width:3.125;" width="31.25" x="3179.6875" y="1531.2927"/><rect fill="#FFFFFF" height="1398.9319" style="stroke:#181818;stroke-width:3.125;" width="31.25" x="3179.6875" y="1995.52"/><rect fill="#FFFFFF" height="189.4409" style="stroke:#181818;stroke-width:3.125;" width="31.25" x="7420.3125" y="2368.1519"/><rect fill="#FFFFFF" height="189.4409" style="stroke:#181818;stroke-width:3.125;" width="31.25" x="7420.3125" y="2740.7837"/><polygon fill="#181818" points="817.1875,520.6177,848.4375,533.1177,817.1875,545.6177,829.6875,533.1177" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="151.5625" x2="835.9375" y1="533.1177" y2="533.1177"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="309.375" x="173.4375" y="518.2983">upload an asset</text><polygon fill="#181818" points="1310.9375,612.2131,1342.1875,624.7131,1310.9375,637.2131,1323.4375,624.7131" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="854.6875" x2="1329.6875" y1="624.7131" y2="624.7131"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="87.5" x="876.5625" y="609.8938">save</text><polygon fill="#181818" points="1960.9375,703.8086,1992.1875,716.3086,1960.9375,728.8086,1973.4375,716.3086" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="1348.4375" x2="1979.6875" y1="716.3086" y2="716.3086"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="575" x="1370.3125" y="701.4893">Store Asset meta information</text><path d="M1140.625,763.1836 L1531.25,763.1836 L1531.25,786.0291 L1500,817.2791 L1140.625,817.2791 L1140.625,763.1836 " fill="#EEEEEE" style="stroke:#000000;stroke-width:4.6875;"/><rect fill="none" height="328.8818" style="stroke:#000000;stroke-width:4.6875;" width="2171.875" x="1140.625" y="763.1836"/><text fill="#000000" font-family="sans-serif" font-size="40.625" font-weight="bold" lengthAdjust="spacing" textLength="250" x="1187.5" y="805.5847">carrierwave</text><polygon fill="#181818" points="2351.5625,871.3745,2382.8125,883.8745,2351.5625,896.3745,2364.0625,883.8745" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="1348.4375" x2="2370.3125" y1="883.8745" y2="883.8745"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="506.25" x="1370.3125" y="869.0552">Trigger carrierwave magic</text><polygon fill="#181818" points="2814.0625,962.97,2845.3125,975.47,2814.0625,987.97,2826.5625,975.47" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="2389.0625" x2="2832.8125" y1="975.47" y2="975.47"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="387.5" x="2410.9375" y="960.6506">Store temporary file</text><polygon fill="#181818" points="3142.1875,1054.5654,3173.4375,1067.0654,3142.1875,1079.5654,3154.6875,1067.0654" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="2389.0625" x2="3160.9375" y1="1067.0654" y2="1067.0654"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="731.25" x="2410.9375" y="1052.2461">Enqueue CreateWhitehallAssetWorker</text><polygon fill="#181818" points="185.9375,1168.0359,154.6875,1180.5359,185.9375,1193.0359,173.4375,1180.5359" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="167.1875" x2="851.5625" y1="1180.5359" y2="1180.5359"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="628.125" x="204.6875" y="1165.7166">Redirect to edition/attachments</text><path d="M2704.6875,1227.4109 L2998.4375,1227.4109 L2998.4375,1250.2563 L2967.1875,1281.5063 L2704.6875,1281.5063 L2704.6875,1227.4109 " fill="#EEEEEE" style="stroke:#000000;stroke-width:4.6875;"/><rect fill="none" height="420.4773" style="stroke:#000000;stroke-width:4.6875;" width="3829.6875" x="2704.6875" y="1227.4109"/><text fill="#000000" font-family="sans-serif" font-size="40.625" font-weight="bold" lengthAdjust="spacing" textLength="153.125" x="2751.5625" y="1269.812">sidekiq</text><polygon fill="#181818" points="4070.3125,1335.6018,4101.5625,1348.1018,4070.3125,1360.6018,4082.8125,1348.1018" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="3195.3125" x2="4089.0625" y1="1348.1018" y2="1348.1018"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="278.125" x="3217.1875" y="1333.2825">trigger worker</text><polygon fill="#181818" points="6245.3125,1427.1973,6276.5625,1439.6973,6245.3125,1452.1973,6257.8125,1439.6973" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="4107.8125" x2="6264.0625" y1="1439.6973" y2="1439.6973"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="640.625" x="4129.6875" y="1424.8779">Upload the file to Asset Manager</text><polygon fill="#181818" points="3245.3125,1518.7927,3214.0625,1531.2927,3245.3125,1543.7927,3232.8125,1531.2927" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="3226.5625" x2="4104.6875" y1="1531.2927" y2="1531.2927"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="837.5" x="3264.0625" y="1516.4734">Enqueue AttachmentSetUploadedToWorker</text><polygon fill="#181818" points="2885.9375,1610.3882,2854.6875,1622.8882,2885.9375,1635.3882,2873.4375,1622.8882" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="2867.1875" x2="4104.6875" y1="1622.8882" y2="1622.8882"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="228.125" x="2904.6875" y="1608.0688">Remove file</text><path d="M1140.625,1691.6382 L1434.375,1691.6382 L1434.375,1714.4836 L1403.125,1745.7336 L1140.625,1745.7336 L1140.625,1691.6382 " fill="#EEEEEE" style="stroke:#000000;stroke-width:4.6875;"/><rect fill="none" height="328.8818" style="stroke:#000000;stroke-width:4.6875;" width="4220.3125" x="1140.625" y="1691.6382"/><text fill="#000000" font-family="sans-serif" font-size="40.625" font-weight="bold" lengthAdjust="spacing" textLength="153.125" x="1187.5" y="1734.0393">sidekiq</text><polygon fill="#181818" points="4875,1799.8291,4906.25,1812.3291,4875,1824.8291,4887.5,1812.3291" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="3195.3125" x2="4893.75" y1="1812.3291" y2="1812.3291"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="278.125" x="3217.1875" y="1797.5098">trigger worker</text><polygon fill="#181818" points="1382.8125,1891.4246,1351.5625,1903.9246,1382.8125,1916.4246,1370.3125,1903.9246" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="1364.0625" x2="4909.375" y1="1903.9246" y2="1903.9246"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="1034.375" x="1401.5625" y="1889.1052">Update the timestamp of when the file was uploaded</text><polygon fill="#181818" points="3142.1875,1983.02,3173.4375,1995.52,3142.1875,2008.02,3154.6875,1995.52" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="1348.4375" x2="3160.9375" y1="1995.52" y2="1995.52"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="559.375" x="1370.3125" y="1980.7007">Enqueue AttachmentUpdater</text><path d="M6031.25,2064.27 L6421.875,2064.27 L6421.875,2087.1155 L6390.625,2118.3655 L6031.25,2118.3655 L6031.25,2064.27 " fill="#EEEEEE" style="stroke:#000000;stroke-width:4.6875;"/><rect fill="none" height="328.8818" style="stroke:#000000;stroke-width:4.6875;" width="1565.625" x="6031.25" y="2064.27"/><text fill="#000000" font-family="sans-serif" font-size="40.625" font-weight="bold" lengthAdjust="spacing" textLength="250" x="6078.125" y="2106.6711">carrierwave</text><polygon fill="#181818" points="6607.8125,2172.4609,6639.0625,2184.9609,6607.8125,2197.4609,6620.3125,2184.9609" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="6282.8125" x2="6626.5625" y1="2184.9609" y2="2184.9609"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="87.5" x="6304.6875" y="2170.1416">Save</text><polygon fill="#181818" points="7070.3125,2264.0564,7101.5625,2276.5564,7070.3125,2289.0564,7082.8125,2276.5564" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="6645.3125" x2="7089.0625" y1="2276.5564" y2="2276.5564"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="387.5" x="6667.1875" y="2261.7371">Store temporary file</text><polygon fill="#181818" points="7382.8125,2355.6519,7414.0625,2368.1519,7382.8125,2380.6519,7395.3125,2368.1519" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="6645.3125" x2="7401.5625" y1="2368.1519" y2="2368.1519"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="431.25" x="6667.1875" y="2353.3325">Enqueue VirusScanner</text><path d="M6503.125,2436.9019 L6796.875,2436.9019 L6796.875,2459.7473 L6765.625,2490.9973 L6503.125,2490.9973 L6503.125,2436.9019 " fill="#EEEEEE" style="stroke:#000000;stroke-width:4.6875;"/><rect fill="none" height="328.8818" style="stroke:#000000;stroke-width:4.6875;" width="1526.5625" x="6503.125" y="2436.9019"/><text fill="#000000" font-family="sans-serif" font-size="40.625" font-weight="bold" lengthAdjust="spacing" textLength="153.125" x="6550" y="2479.303">sidekiq</text><polygon fill="#181818" points="7767.1875,2545.0928,7798.4375,2557.5928,7767.1875,2570.0928,7779.6875,2557.5928" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="7435.9375" x2="7785.9375" y1="2557.5928" y2="2557.5928"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="278.125" x="7457.8125" y="2542.7734">trigger worker</text><polygon fill="#181818" points="6679.6875,2636.6882,6648.4375,2649.1882,6679.6875,2661.6882,6667.1875,2649.1882" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="6660.9375" x2="7801.5625" y1="2649.1882" y2="2649.1882"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="506.25" x="6698.4375" y="2634.3689">Update state to be "clean"</text><polygon fill="#181818" points="7382.8125,2728.2837,7414.0625,2740.7837,7382.8125,2753.2837,7395.3125,2740.7837" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="6645.3125" x2="7401.5625" y1="2740.7837" y2="2740.7837"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="715.625" x="6667.1875" y="2725.9644">Enqueue SaveToCloudStorageWorker</text><path d="M6503.125,2809.5337 L6796.875,2809.5337 L6796.875,2832.3792 L6765.625,2863.6292 L6503.125,2863.6292 L6503.125,2809.5337 " fill="#EEEEEE" style="stroke:#000000;stroke-width:4.6875;"/><rect fill="none" height="420.4773" style="stroke:#000000;stroke-width:4.6875;" width="2407.8125" x="6503.125" y="2809.5337"/><text fill="#000000" font-family="sans-serif" font-size="40.625" font-weight="bold" lengthAdjust="spacing" textLength="153.125" x="6550" y="2851.9348">sidekiq</text><polygon fill="#181818" points="8345.3125,2917.7246,8376.5625,2930.2246,8345.3125,2942.7246,8357.8125,2930.2246" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="7435.9375" x2="8364.0625" y1="2930.2246" y2="2930.2246"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="278.125" x="7457.8125" y="2915.4053">trigger worker</text><polygon fill="#181818" points="8785.9375,3009.3201,8817.1875,3021.8201,8785.9375,3034.3201,8798.4375,3021.8201" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="8382.8125" x2="8804.6875" y1="3021.8201" y2="3021.8201"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="250" x="8404.6875" y="3007.0007">Upload to S3</text><polygon fill="#181818" points="6679.6875,3100.9155,6648.4375,3113.4155,6679.6875,3125.9155,6667.1875,3113.4155" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="6660.9375" x2="8379.6875" y1="3113.4155" y2="3113.4155"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="584.375" x="6698.4375" y="3098.5962">Update state to be "uploaded"</text><polygon fill="#181818" points="7070.3125,3192.511,7101.5625,3205.011,7070.3125,3217.511,7082.8125,3205.011" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="6645.3125" x2="7089.0625" y1="3205.011" y2="3205.011"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="340.625" x="6667.1875" y="3190.1917">Remove temp file</text><path d="M3078.125,3273.761 L3371.875,3273.761 L3371.875,3296.6064 L3340.625,3327.8564 L3078.125,3327.8564 L3078.125,3273.761 " fill="#EEEEEE" style="stroke:#000000;stroke-width:4.6875;"/><rect fill="none" height="568.1091" style="stroke:#000000;stroke-width:4.6875;" width="3709.375" x="3078.125" y="3273.761"/><text fill="#000000" font-family="sans-serif" font-size="40.625" font-weight="bold" lengthAdjust="spacing" textLength="153.125" x="3125" y="3316.1621">sidekiq</text><polygon fill="#181818" points="5585.9375,3381.9519,5617.1875,3394.4519,5585.9375,3406.9519,5598.4375,3394.4519" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="3195.3125" x2="5604.6875" y1="3394.4519" y2="3394.4519"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="278.125" x="3217.1875" y="3379.6326">trigger worker</text><polygon fill="#181818" points="6245.3125,3712.7747,6276.5625,3725.2747,6245.3125,3737.7747,6257.8125,3725.2747" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="5623.4375" x2="6264.0625" y1="3725.2747" y2="3725.2747"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="493.75" x="5645.3125" y="3471.228">update the state of Asset</text><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="303.125" x="5645.3125" y="3519.0735">:access_limited</text><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="106.25" x="5645.3125" y="3566.9189">:draft</text><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="431.25" x="5645.3125" y="3614.7644">:parent_document_url</text><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="237.5" x="5645.3125" y="3662.6099">:redirect_url</text><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="584.375" x="5645.3125" y="3710.4553">:replacement_legacy_url_path</text><polygon fill="#181818" points="6607.8125,3804.3701,6639.0625,3816.8701,6607.8125,3829.3701,6620.3125,3816.8701" style="stroke:#181818;stroke-width:3.125;"/><line style="stroke:#181818;stroke-width:3.125;" x1="6282.8125" x2="6626.5625" y1="3816.8701" y2="3816.8701"/><text fill="#000000" font-family="sans-serif" font-size="40.625" lengthAdjust="spacing" textLength="87.5" x="6304.6875" y="3802.0508">Save</text><!--SRC=[dLLDRzim3BtxLn3PiIYMjPSYXm5hiUE0eadNou20bUXOg2svajmq_twKhVYZiPrkkSGHoUV7Hpt6lIXTeiK2PAdWUhbClF8vmIOZSFHQaHO49WLX2RtIEq185SVHUnHPGTg3ql2KAKyPvddYMhnRytwFKeQQgsNl_1wjLqALgFqn_csP9C_c7HOjpWA-f5SffJS92cyia5JybPHTBVne6TmPxQt9SvfAI2HwV4P7K1pSQpxCSexyBzIu8xlcT_1tbnvQTGVdgUZEd9Bqebu787T17MhPrvXFnhvCCbgJVonpWvBanincFfRyPewIbi0QHQ7gDq2atOXraz9fOrFIX5ZN4XRRiKxvUApPtyfMRYrGwm-eQtoZZRdBJIMZah6p5d5ztVMHD3E5o- -ZeuGLLBL2W1gmvZkQDYZd8iSaUfaXNW-TGu4KDRr3GHxvvgR65dolZKwIdJLL2GAjLMJt0GNuCqGQkIoCkx5gnmVzMYXmfqI3C5B3K9tWBJD-BZbk3tLmhZYEvUA2QtzgTcb5StSmQ5wtbqng68UnWWT-iYGyU5CViZPVExExeqx7Yn58nkS0CqtYyd85FWgrRsY5skc2Lk_1dMXS0pvhp1bO3hpm2T0nyUQTUHvpCCq7AinRmwyl_QnmimGcj9kjEJ56iqXgvRmgo7aioh3PzndfJiyzkkWxaYC6cDUklwi6JP-uwiDSZwCELXZaXCXWEvqrIwmO8pfONBE3wG02NBzkOXJzb7utKNGMszTtzPbW8N92lVWKuycD-W_ifp0cEfbAhw6kUmuqOPkVgvZJuNZD5lFZZcuAy_vVIyLxUTP6CMzyyrITVvess3jrrX-zGY78kMsk2buFaW-anJG4-E-HSRVIY2gyO5lPd4zjtB7jpp97GNL2JZiKXn3ObkYpJxcb4-Gl]--></g></svg>